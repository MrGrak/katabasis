<Project Sdk="Microsoft.NET.Sdk">

	<!-- MSBuild project settings -->
	<PropertyGroup>
		<TargetFramework>net5.0</TargetFramework>
		<AllowUnsafeBlocks>true</AllowUnsafeBlocks>
	</PropertyGroup>

	<!-- My-MSBuild settings -->
	<PropertyGroup>
		<EnableRootNamespace>false</EnableRootNamespace>
		<EnableAnalyzers>true</EnableAnalyzers>
		<EnableAnalyzersStyleCop>true</EnableAnalyzersStyleCop>
		<EnableCodeCoverage>false</EnableCodeCoverage>
	</PropertyGroup>
	
	<!-- Project referneces -->
	<ItemGroup>
		<ProjectReference Include="..\..\..\..\ext\FNA3D-cs\src\cs\production\FNA3D-cs\FNA3D-cs.csproj" />
		<ProjectReference Include="..\..\..\..\ext\sdl-cs\src\cs\production\SDL-cs\SDL-cs.csproj" />
	</ItemGroup>

	<!-- NuGet references -->
	<ItemGroup>
		<PackageReference Include="C2CS.Runtime" Version="*-*" />
	</ItemGroup>

	<!-- Stock effects files emedded into assembly -->
	<ItemGroup>
		<EmbeddedResource Include="Katabasis/Graphics/Effect/StockEffects/FXB/*.fxb" />
	</ItemGroup>

	<!-- Native libraries -->
	<ItemGroup>
		<Content Include="$(GitRepositoryPath)lib/*.dll" Condition="'$(IsWindows)' == 'true'">
			<Link>%(Filename)%(Extension)</Link>
			<PackagePath>runtimes/$(RuntimeIdentifier)\native\%(Filename)%(Extension)</PackagePath>
			<Pack>true</Pack>
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</Content>
		<Content Include="$(GitRepositoryPath)lib/*.dylib" Condition="'$(IsMacOS)' == 'true'">
			<Link>%(Filename)%(Extension)</Link>
			<PackagePath>runtimes/$(RuntimeIdentifier)/native/%(Filename)%(Extension)</PackagePath>
			<Pack>true</Pack>
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</Content>
		<Content Include="$(GitRepositoryPath)lib/*.so" Condition="'$(IsLinux)' == 'true'">
			<Link>%(Filename)%(Extension)</Link>
			<PackagePath>runtimes/$(RuntimeIdentifier)/native/%(Filename)%(Extension)</PackagePath>
			<Pack>true</Pack>
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</Content>
	</ItemGroup>

</Project>
